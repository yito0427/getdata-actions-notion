# 102取引所データ調査ガイド

## 概要
このプロジェクトは学習用として、世界の102の仮想通貨取引所から取得可能なデータを調査し、Notionデータベースに記録するものです。

## 実行方法

### 1. 全102取引所の調査を実行
```bash
# スクリプトを編集してlimit=Noneに変更（現在は20取引所のテスト設定）
poetry run python scripts/explore_all_exchanges.py
```

### 2. Notionに保存される内容

#### サマリーレポート（1レコード）
- 調査した取引所の総数
- 成功/失敗の統計
- データタイプ別の利用可能数
- トップ20取引所のランキング

#### 各取引所の詳細（1取引所1レコード）
各取引所について以下の情報が記録されます：

**基本情報:**
- 取引所名
- 総マーケット数（取扱通貨ペア数）
- 公開APIの利用可能性
- 取得可能なデータ種類数

**データ種別の詳細:**

1. **Ticker（価格情報）**
   - 最終取引価格（last）
   - 買値/売値（bid/ask）
   - 24時間高値/安値（high/low）
   - 始値/終値（open/close）
   - 取引量（base_volume/quote_volume）
   - 24時間変動率（percentage）
   - VWAP（出来高加重平均価格）

2. **OrderBook（板情報）**
   - 買い注文/売り注文の価格と数量
   - スプレッド（買値と売値の差）
   - 板の深さ（bid_depth/ask_depth）
   - 最良気配値

3. **Trades（約定履歴）**
   - 約定価格
   - 約定数量
   - 約定時刻
   - 売買方向（buy/sell）

4. **OHLCV（ローソク足データ）**
   - 対応時間軸（1m, 5m, 15m, 1h, 4h, 1d等）
   - 始値・高値・安値・終値
   - 取引量

**API機能の詳細:**
- fetchTicker（個別価格取得）
- fetchTickers（全価格一括取得）
- fetchOrderBook（板情報取得）
- fetchTrades（約定履歴取得）
- fetchOHLCV（ローソク足取得）

**サンプルデータ:**
- 実際に取得したデータのサンプル
- 取扱通貨ペアの例（最大20ペア）
- エラー情報（ある場合）

## データ粒度について

### 時間粒度
- **リアルタイムデータ**: ティッカー、オーダーブック（最小更新間隔は取引所により異なる）
- **ローソク足**: 1分、3分、5分、15分、30分、1時間、2時間、4時間、6時間、8時間、12時間、1日、3日、1週間、1ヶ月

### データ深度
- **オーダーブック**: 通常10〜1000レベルまで取得可能
- **約定履歴**: 直近100〜1000件
- **OHLCV**: 過去500〜1000本のローソク足

### 更新頻度の目安
- **高頻度取引所**（Binance等）: 10ms〜100ms
- **一般的な取引所**: 100ms〜1秒
- **小規模取引所**: 1秒〜10秒

## 注意事項

1. **API制限**: 各取引所にはレート制限があります
2. **地域制限**: 一部の取引所は特定地域からのアクセスを制限
3. **認証不要データのみ**: 公開APIで取得可能なデータのみ調査
4. **データ品質**: 取引所により提供データの品質・精度が異なる

## 活用方法

この調査結果は以下の用途に活用できます：

1. **取引所選定**: どの取引所がどのようなデータを提供しているか把握
2. **システム設計**: データ収集システムの設計時の参考資料
3. **API学習**: 各取引所のAPI仕様の理解
4. **データ分析**: 取得可能なデータ種別の把握

## 次のステップ

1. 興味のある取引所を選定
2. 該当取引所のAPIドキュメントを詳読
3. 小規模なデータ収集システムを構築
4. 適切なデータストレージ（TimescaleDB等）を選定
5. 本格的なデータ収集・分析システムを構築